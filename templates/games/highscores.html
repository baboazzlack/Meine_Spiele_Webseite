{% extends 'base.html' %}

{% block title %}Highscores - GFN Retro Hub{% endblock %}

{% block content %}
    <h2>Highscore-Liste</h2>

    {% if message %}
        <p style="color: #ff4d4d;">{{ message }}</p>
    {% else %}
        <style>
            .highscore-table {
                width: 80%;
                margin: 20px auto;
                border-collapse: collapse;
                border: 3px solid #00ffff;
            }
            .highscore-table th, .highscore-table td {
                border: 1px solid #00ffff;
                padding: 10px 15px;
                text-align: left;
            }
            .highscore-table th {
                background-color: #333;
                color: #ffff00;
            }
        </style>

        <table class="highscore-table">
            <thead>
                <tr>
                    <th>Spieler</th>
                    <th>Spiel</th>
                    <th>Punkte</th>
                </tr>
            </thead>
            <tbody>
                {% for score in scores %}
                    <tr>
                        <td>{{ score.player_name }}</td> {# <-- HIER WAR DER FEHLER: .player wurde zu .player_name #}
                        <td>{{ score.game }}</td>
                        <td>{{ score.score }}</td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="3">Noch keine Highscores vorhanden. Spiel eine Runde!</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock %}